// Generated by CoffeeScript 1.3.3
(function() {
  'use strict';

  var MAIN_FRAME_SELECTOR, inbox, payment;

  console.log('extension script loaded with jquery and underscore');

  window.addEventListener('hashchange', function() {
    console.log(window.location.hash);
    if (window.location.has.match(/compose/)) {
      return payment.renderButton();
    }
  });

  MAIN_FRAME_SELECTOR = '#canvas_frame';

  payment = {
    renderButton: function() {
      var $actions;
      $actions = $(MAIN_FRAME_SELECTOR).contents().find('div[role=navigation]').last().children().first();
      return $actions.append('<div class="J-J5-Ji">$</div>').children('span').remove();
    }
  };

  inbox = {
    sort: function() {
      return $(MAIN_FRAME_SELECTOR).load(function() {});
    }
  };

  $(function() {
    return $(window).trigger('hashchange');
  });

}).call(this);
